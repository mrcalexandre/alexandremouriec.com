---
import { getCollection } from "astro:content";

import Posts from "@/components/common/Posts.astro";

// Get all newsletter issues and sort by date
const allNewsletterIssues = (await getCollection("newsletter")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

// Limit to latest 5 newsletter Issues for the homepage
const latestNewsletterIssues = allNewsletterIssues.slice(0, 5);
---

<Posts
  basePath="/newsletter"
  emptyMessage="No newsletter issues yet. Check back soon!"
  entries={latestNewsletterIssues}
  limit={5}
/>
