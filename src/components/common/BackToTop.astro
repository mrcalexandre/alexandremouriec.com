<a
  href="#top"
  aria-label="Back to top"
  class="fixed right-5 bottom-16 z-50 hidden cursor-pointer rounded-full border border-gray-200 bg-white stroke-current p-2 opacity-0 shadow-xs transition-all duration-300 ease-in-out hover:bg-gray-100 hover:stroke-gray-600 hover:opacity-100 md:right-10 dark:border-white/25 dark:bg-gray-800 dark:stroke-white dark:hover:bg-gray-700 dark:hover:stroke-gray-200"
  id="back-to-top"
>
  <svg
    class="h-5 w-5"
    fill="none"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="2"
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg"
  >
    <line x1="12" x2="12" y1="19" y2="5"></line>
    <polyline points="5 12 12 5 19 12"></polyline>
  </svg>
</a>

<style>
  /* Show back to top button when scrolled down */
  @media (min-height: 100vh) {
    #back-to-top {
      display: block;
    }
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Show back to top button when scrolled */
  html[data-scrolled="true"] #back-to-top {
    opacity: 1;
  }
</style>

<script>
  document.addEventListener("astro:page-load", () => {
    const html = document.documentElement;

    const updateScrollState = () => {
      html.setAttribute(
        "data-scrolled",
        window.scrollY > 50 ? "true" : "false"
      );
    };

    window.addEventListener("scroll", updateScrollState);
    updateScrollState(); // Initial check
  });
</script>
