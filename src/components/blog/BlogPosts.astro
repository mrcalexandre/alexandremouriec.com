---
import { getCollection } from "astro:content";

import Posts from "@/components/common/Posts.astro";

// Get all blog posts and sort by date
const allBlogPosts = (await getCollection("posts")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

// Limit to latest 5 posts for the homepage
const latestPosts = allBlogPosts.slice(0, 5);
---

<Posts
  basePath="/blog"
  emptyMessage="No blog posts yet. Check back soon!"
  entries={latestPosts}
  limit={5}
/>
